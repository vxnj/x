<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
<title>ThisIsThePageTitle</title>
</head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="js/funcs.js"></script>
<script src="js/fDate.js"></script>
<link rel="stylesheet" href="style.css" />
<link rel="icon" type="image/x-icon" href="images/hal.svg">

<script>

var dataM;
var dataG;
var dataz;
let wrd;


// var fi = MKT3.findIndex(obj => obj.symbol=="^GSPC");
// console.log(fi)
   //MKT3.forEach((p, i) => console.log(p, i === 0, p.name, p.symbol));

function getM() {
  key = "?key=c75da45d-5bc4-4b3b-a8cc-a5f99319e10a";
  let response = fetch("https://www.dictionaryapi.com/api/v3/references/collegiate/json/" + wrd + key, {"method": "GET"})
  .then(response => response.json())
  .then(data => {
    dataM = data;

    document.getElementById("app1").innerHTML = 'MW: ' 
      + '<a href="https://www.merriam-webster.com/dictionary/' +  wrd 
      + ' "style="text-decoration: none;" target="_blank">' + dataM[0].meta.id  + " (" + dataM[0].fl + ")"  +'</a>';

    document.getElementById("app2").innerHTML = dataM[0].shortdef[0]
    // + "<br>"+ dataM[0].date + " - " + dataM[0].et[0][1];

    })
}

function getG() {
  let response = fetch("https://api.dictionaryapi.dev/api/v2/entries/en/" + wrd , {"method": "GET"})
  .then(response => response.json())
  .then(data => {
    dataG = data;

    document.getElementById("app3").innerHTML = 'G: ' 
      + '<a href="https://www.google.com/search?hl=en&amp;q=define+' +  wrd 
      + ' "style="text-decoration: none;" target="_blank">' + dataG[0].word   + " (" + dataG[0].meanings[0].partOfSpeech + ")"  + '</a>';
    document.getElementById("app4").innerHTML = dataG[0].meanings[0].definitions[0].definition
    })
}

function getQ() {
  // ninjas
  let response = fetch("https://dictionary-by-api-ninjas.p.rapidapi.com/v1/dictionary?word=" + wrd , {
    "method": "GET",
    "headers": {
      "x-rapidapi-host": "dictionary-by-api-ninjas.p.rapidapi.com",
      "x-rapidapi-key": "b82347799fmsha23f8c4bf57860ap16128djsn29dc226ace18"
      }
    })

  .then(response => response.json())
  .then(data => {
    datax = data;
    document.getElementById("app5").innerHTML = 'ninja api: ' + datax.word;
    document.getElementById("app6").innerHTML = datax.definition;
    })
}

async function getT(lang) {
    const res = await fetch("https://translate.argosopentech.com/translate", {
    method: "POST",
    body: JSON.stringify({
      q: wrd,
      source: "en",
      target: lang
    }),
    headers: { "Content-Type": "application/json" }
    });

    console.log(lang , await res.json());
  }


function doFill() {
  wrd = document.getElementById('word').value;;  
  dataM = getM();
  dataG = getG();

  getT('de');
  getT('es');
  getT('fr');
}

function gt() {
fetch("https://google-translate-translate-your-text.p.rapidapi.com/translate", {
	"method": "POST",
	"headers": {
		"content-type": "application/json",
		"x-rapidapi-host": "google-translate-translate-your-text.p.rapidapi.com",
		"x-rapidapi-key": "b82347799fmsha23f8c4bf57860ap16128djsn29dc226ace18"
	},
	"body": {
		"input": "hello",
		"lang": "es"
	}
})
.then(response => {
	console.log(response);
})
.catch(err => {
	console.error(err);
});
}

</script>


<body>
  <br>
  <input type="text" id="word" name="word" placeholder="define ...">
  <button id="get" onclick="doFill()">GET</button>
  <a id="jsonMw" href="" >json</a>
  <a id="jsonG" href="" >json</a>
<br><br>
  <div id="app1"></div><br>
  <div id="app2"></div><br><br>
  <div id="app3"></div><br>
  <div id="app4"></div><br><br>
  <div id="app5"></div><br>
  

<script>
  inputId = document.getElementById('word');
  inputId.addEventListener('keyup', function onEvent(e) {
      if (e.keyCode === 13) {
        doFill();gt();
      }})

</script>

</body>
</html>